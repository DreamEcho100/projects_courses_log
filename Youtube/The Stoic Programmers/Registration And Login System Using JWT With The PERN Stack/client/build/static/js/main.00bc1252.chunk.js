(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(16),o=n.n(s),u=(n(28),n(5)),i=n(4),l=n.n(i),j=n(10),b=n(11),h=n(14),p=n(2),f=n(8),m=(n(30),n(31),n(13)),d=function(e){var t=e.setAuth,n=Object(a.useState)({email:"",password:""}),c=Object(b.a)(n,2),s=c[0],o=c[1],i=s.email,p=s.password,d=function(e){return o(Object(u.a)(Object(u.a)({},s),{},Object(m.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(j.a)(l.a.mark((function e(n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={email:i,password:p},e.next=5,fetch("http://localhost:5000/authentication/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 5:return a=e.sent,e.next=8,a.json();case 8:(c=e.sent).token?(localStorage.setItem("token",c.token),t(!0),f.a.success("Logged in Successfully.")):(t(!1),f.a.error(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),f.a.success("No Right Credential."),console.error("Erorr, ".concat(e.t0),e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{className:"mt-5 text-center",children:"Login"}),Object(r.jsxs)("form",{onSubmit:O,children:[Object(r.jsx)("input",{type:"email",name:"email",value:i,onChange:function(e){return d(e)},className:"form-control my-3"}),Object(r.jsx)("input",{type:"password",name:"password",value:p,onChange:function(e){return d(e)},className:"form-control my-3"}),Object(r.jsx)("button",{class:"btn btn-success btn-block",children:"Submit"})]}),Object(r.jsx)(h.b,{to:"/register",children:"register"})]})},O=function(e){var t=e.setAuth,n=Object(a.useState)({name:"",email:"",password:""}),c=Object(b.a)(n,2),s=c[0],o=c[1],i=s.name,p=s.email,d=s.password,O=function(e){return o(Object(u.a)(Object(u.a)({},s),{},Object(m.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(j.a)(l.a.mark((function e(n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={name:i,email:p,password:d},e.next=5,fetch("http://localhost:5000/authentication/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 5:return a=e.sent,e.next=8,a.json();case 8:(c=e.sent).token?(localStorage.setItem("token",c.token),t(!0),f.a.success("Register Successfully.")):(t(!1),f.a.error(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),f.a.success("No Right Credential."),console.error("Erorr, ".concat(e.t0),e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{className:"mt-5 text-center",children:"Register"}),Object(r.jsxs)("form",{onSubmit:x,children:[Object(r.jsx)("input",{type:"text",name:"name",value:i,placeholder:"name",onChange:function(e){return O(e)},className:"form-control my-3"}),Object(r.jsx)("input",{type:"email",name:"email",value:p,placeholder:"email",onChange:function(e){return O(e)},className:"form-control my-3"}),Object(r.jsx)("input",{type:"password",name:"password",value:d,placeholder:"password",onChange:function(e){return O(e)},className:"form-control my-3"}),Object(r.jsx)("button",{className:"btn btn-success btn-block",children:"Submit"})]}),Object(r.jsx)(h.b,{to:"/login",children:"Login"})]})},x=function(e){var t=e.setAuth,n=Object(a.useState)(""),c=Object(b.a)(n,2),s=c[0],o=c[1],u=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/dashboard/",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o(n.user_name),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Erorr, ".concat(e.t0),e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{localStorage.removeItem("token"),t(!1),f.a.success("No Right Credential.")}catch(r){console.error("Erorr, ".concat(r),r.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u()}),[]);var h=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/authentication/is-verify",{method:"GET",headers:{"Content-type":"application/json"},body:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i({preventDefault:function(){}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h()})),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"mt-5",children:"Dashboard"}),Object(r.jsxs)("h2",{children:["Welcome ",s]}),Object(r.jsx)("button",{onClick:function(e){return i(e)},className:"btn btn-primary",children:"Logout"})]})};f.a.configure();var v=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],s=function(e){c(e)},o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/authentication/is-verify",{method:"GET",headers:{"Content-type":"application/json"},body:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Erorr, ".concat(e.t0),e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()})),Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(h.a,{children:Object(r.jsx)("section",{className:"container",children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{exact:!0,path:"/",render:function(e){return Object(r.jsx)(x,Object(u.a)(Object(u.a)({},e),{},{setAuth:s}))}}),Object(r.jsx)(p.b,{exact:!0,path:"/login",render:function(e){return n?Object(r.jsx)(p.a,{to:"/dashboard"}):Object(r.jsx)(d,Object(u.a)(Object(u.a)({},e),{},{setAuth:s}))}}),Object(r.jsx)(p.b,{exact:!0,path:"/register",render:function(e){return n?Object(r.jsx)(p.a,{to:"/login"}):Object(r.jsx)(O,Object(u.a)(Object(u.a)({},e),{},{setAuth:s}))}}),Object(r.jsx)(p.b,{exact:!0,path:"/dashboard",render:function(e){return n?Object(r.jsx)(x,Object(u.a)(Object(u.a)({},e),{},{setAuth:s})):Object(r.jsx)(p.a,{to:"/login"})}})]})})})})};n(37);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.00bc1252.chunk.js.map