(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(0),o=n.n(c),a=n(9),s=n.n(a),i=n(5),d=n(6),u=n(17),l=n.n(u),j=n(18),b=n(2),O="REQUEST_GET_TODOS_PENDING",p="REQUEST_GET_TODOS_SUCCESS",f="REQUEST_GET_TODOS_FAILED",h="REQUEST_ADD_TODO_PENDING",m="REQUEST_ADD_TODO_SUCCESS",E="REQUEST_ADD_TODO_FAILED",x="REQUEST_UPDATE_TODO_PENDING",y="REQUEST_UPDATE_TODO_SUCCESS",T="REQUEST_UPDATE_TODO_FAILED",g="REQUEST_DELETE_TODO_PENDING",D="REQUEST_DELETE_TODO_SUCCESS",v="REQUEST_DELETE_TODO_FAILED",S={isGetTodosPending:!1,isAddtodoPending:!1,isUpdatetodoPending:!1,isDeletetodoPending:!1,items:[],error:""},_=Object(d.c)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(b.a)(Object(b.a)({},t),{},{isGetTodosPending:!0,error:""});case p:return Object(b.a)(Object(b.a)({},t),{},{isGetTodosPending:!1,items:e.payload,error:""});case f:return Object(b.a)(Object(b.a)({},t),{},{isGetTodosPending:!1,items:[],error:e.payload});case h:return Object(b.a)(Object(b.a)({},t),{},{isAddtodoPending:!0,error:""});case m:return Object(b.a)(Object(b.a)({},t),{},{isAddtodoPending:!1,items:e.payload,error:""});case E:return Object(b.a)(Object(b.a)({},t),{},{isAddtodoPending:!1,items:t.items,error:e.payload});case x:return Object(b.a)(Object(b.a)({},t),{},{isUpdatetodoPending:!0,error:""});case y:return Object(b.a)(Object(b.a)({},t),{},{isUpdatetodoPending:!1,items:e.payload,error:""});case T:return Object(b.a)(Object(b.a)({},t),{},{isUpdatetodoPending:!1,items:t.items,error:e.payload});case g:return Object(b.a)(Object(b.a)({},t),{},{isDeletetodoPending:!0,error:""});case D:return Object(b.a)(Object(b.a)({},t),{},{isDeletetodoPending:!1,items:e.payload,error:""});case v:return Object(b.a)(Object(b.a)({},t),{},{isDeletetodoPending:!1,items:t.items,error:e.payload});default:return t}}}),N=[l.a,j.a],P=Object(d.d)(_,d.a.apply(void 0,N)),U=(n(30),n(31),n(7)),C=(n(32),n(3)),k=n.n(C),w=n(4),A=n(19),G=function(){return function(){var t=Object(w.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:O}),t.next=3,fetch("http://localhost:5000/todos/").then((function(t){return t.json()})).then((function(t){return e({type:p,payload:t.sort((function(t,e){return t.id-e.id}))})})).catch((function(t){return e({type:f,payload:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(t,e){return function(){var n=Object(w.a)(k.a.mark((function n(r){var c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:h}),c={description:e},n.next=4,fetch("http://localhost:5000/todos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(t){return t.json()})).then((function(e){return r({type:m,payload:[].concat(Object(A.a)(t),[e])})})).catch((function(t){return r({type:E,payload:t})}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},R=function(t,e,n){return function(){var r=Object(w.a)(k.a.mark((function r(c){var o;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:x}),o={description:n},r.next=4,fetch("http://localhost:5000/todos/".concat(e),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).then((function(t){return t.json()})).then((function(){return c({type:y,payload:t.map((function(t){return t.id===e&&(t.description=n),t}))})})).catch((function(t){return c({type:T,payload:t})}));case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},I=function(t,e){return function(){var n=Object(w.a)(k.a.mark((function n(r){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:g}),n.next=3,fetch("http://localhost:5000/todos/".concat(e),{method:"DELETE"}).then((function(t){return t.json()})).then((function(){return r({type:D,payload:t.filter((function(t){return t.id!==e}))})})).catch((function(t){return r({type:v,payload:t})}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},L=Object(i.b)((function(t){return{todos:t.todos}}),(function(t){return{addTodo:function(e,n){return t(Q(e,n))}}}))((function(t){var e=t.todos,n=t.addTodo,o=Object(c.useState)(""),a=Object(U.a)(o,2),s=a[0],i=a[1],d=function(){var t=Object(w.a)(k.a.mark((function t(r){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""!==s){t.next=3;break}return t.abrupt("return");case 3:try{n(e.items,s),i("")}catch(c){console.error(c.message,c)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("h1",{className:"text-center mt-5",children:"Pern Todo List"}),Object(r.jsxs)("form",{className:"d-flex mt-5",onSubmit:d,children:[Object(r.jsx)("input",{type:"text",className:"form-control",value:s,onChange:function(t){return i(t.target.value)}}),Object(r.jsx)("button",{className:"btn btn-success",children:"Add"})]})]})})),F=Object(i.b)(null,(function(t){return{updateTodo:function(e,n,r){return t(R(e,n,r))}}}))((function(t){var e=t.item,n=t.items,o=t.updateTodo,a=Object(c.useState)(!0),s=Object(U.a)(a,2),i=s[0],d=s[1],u=Object(c.useState)(e.description.slice()),l=Object(U.a)(u,2),j=l[0],b=l[1],O=function(){var t=Object(w.a)(k.a.mark((function t(r){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""!==j){t.next=3;break}return t.abrupt("return");case 3:o(n,e.id,j),d(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("button",{className:"btn btn-warning","data-toggle":"modal","data-target":"#id".concat(e.id),onClick:function(){return d(!1)},children:"Edit"}),i?null:Object(r.jsx)("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.9)"},children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h4",{className:"modal-title",children:"Edit Todo"}),Object(r.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){return d(!0)},children:"\xd7"})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsx)("input",{type:"text",className:"form-control",value:j,onChange:function(t){return b(t.target.value)}})}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal",onClick:function(t){return O(t)},children:"Edit"}),Object(r.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){return d(!0)},children:"Close"})]})]})})})]})})),J=Object(i.b)((function(t){return{todos:t.todos}}),(function(t){return{getTodos:function(){return t(G())},deleteTodo:function(e,n){return t(I(e,n))}}}))((function(t){var e=t.todos,n=t.getTodos,o=t.deleteTodo;return Object(c.useEffect)((function(){n()}),[]),Object(r.jsx)(c.Fragment,{children:Object(r.jsxs)("table",{className:"table mt-5 text-center",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Edit"}),Object(r.jsx)("th",{children:"Delete"})]})}),Object(r.jsx)("tbody",{children:e.isGetTodosPending?null:e.items.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.description}),Object(r.jsx)("td",{children:Object(r.jsx)(F,{item:t,items:e.items})}),Object(r.jsx)("td",{children:Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.items,t.id)},children:"Delete"})})]},t.id)}))})]})})}));var B=function(){var t=Object(c.useState)([]),e=Object(U.a)(t,2),n=e[0],o=e[1];return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(L,{todos:n,setTodos:o}),Object(r.jsx)(J,{todos:n,setTodos:o})]})};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(i.a,{store:P,children:Object(r.jsx)(B,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.20330eff.chunk.js.map